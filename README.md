# g-Shell

## Description

g-Shell is a simple UNIX shell implementation written in C language. The shell provides a simple and efficient command line interface for users to interact with the operating system. The implementation of gShell includes built-in commands and the ability to run external programs.

## Code Design
The gShell code consists of several functions, including a parser, handler, cd_command, export_command, echo_command, and main.

The parser function takes a command entered by the user and parses it into an array of arguments that can be passed to other functions. The maximum number of arguments allowed in the terminal is 10.

The handler function is responsible for handling SIGCHLD signals generated by the child process when it terminates. The parent process removes the process that initiated the signal from the processes table. In case of a zombie process, this method is responsible for reaping it.

The cd_command function is a built-in command for handling user commands to navigate between different directories. The function allows the user to navigate to the home directory, navigate up one level, or navigate to the previous directory.

The export_command function is a built-in command for defining environment variables and using them in child processes.

The echo_command function is a built-in command for printing the input line as a string of text or the value of a defined environment variable.

The main function is responsible for handling user input, parsing the command, and executing it. The main function also handles the built-in commands.

## Specification
Implemented using c language along with unistd ans sys libraries

The following table shows the current set of commands supported by the shell:
| Command | Arguments | Description |
|------|----------|--------|
| cd | '', ~, /, .., - | Changes the current working directory |
| pwd | None | Writes to standard output the full path name of your current directory (from the root directory) |
| ls | ~, /, .., -, -l, -sl, -R, -a | Displays the contents of a directory |
| mkdir | Directory name | Creates a new directory in the Linux/Unix operating system |
| rm | Directory name, -r | Deletes file or directory |
| ps | aux, eaf | views information related with the processes on a system |
| kill | -, -s, -p | Sends the specified signal to the specified processes or process groups |
| export | Expression | Marks variables and functions to be passed to child processes |
| find | -H, -L Path | locates files based on some user-specified criteria |
| echo | $Variable | Displays a line of string that is passed as the arguments or value of an environment variable |
| Process name | & | Runs the process as a backgroud process |
## Pseudocode

The shell program should be written as following pseudocode:

```Pseudocode
function parent_main()
    register_child_signal(on_child_exit())
    setup_environment()
    shell()


function on_child_exit()
    reap_child_zombie()
    write_to_log_file("Child terminated")


function setup_environment()
    cd(Current_Working_Directory)


function shell()
    do
        parse_input(read_input())
        evaluate_expression():
        switch(input_type):
            case shell_builtin:
                execute_shell_bultin();
            case executable_or_error:
                execute_command():

    while command_is_not_exit


function execute_shell_bultin()
    swirch(command_type):
        case cd:
        case echo:
        case export:


function execute_command()
    child_id = fork()
    if child:
        execvp(command parsed)
        print("Error)
        exit()
    else if parent and foreground:
        waitpid(child)
```
## References
* https://www.geeksforgeeks.org/create-processes-with-fork-in-cpp/
* https://stackoverflow.com/questions/19099663/how-to-correctly-use-fork-exec-wait
* https://stackoverflow.com/questions/67251953/implement-cd-command-in-c
* https://stackoverflow.com/questions/17929414/how-to-use-setenv-to-export-a-variable-in-c
* http://www.microhowto.info/howto/reap_zombie_processes_using_a_sigchld_handler.html
* https://www.geeksforgeeks.org/zombie-processes-prevention/
* https://linuxhint.com/find-kill-zombie-process-linux/
* [What is a zombie process in Linux?](https://www.tutorialspoint.com/what-is-zombie-process-in-linux)
* [Process states & dealing with zombie processes](https://idea.popcount.org/2012-12-11-linux-process-states/)
* [Linux Signals](https://devopedia.org/linux-signals)
* [Important notes on wait() and repeaing zombies](https://man7.org/linux/man-pages/man2/wait.2.html#NOTES)
* [sigaction(2) — Linux manual page](https://man7.org/linux/man-pages/man2/sigaction.2.html)
* [signal(2) — Linux manual page](https://man7.org/linux/man-pages/man2/signal.2.html)
